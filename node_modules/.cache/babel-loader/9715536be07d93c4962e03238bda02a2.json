{"ast":null,"code":"var _jsxFileName = \"D:\\\\USUARIO\\\\Desktop\\\\crud-basico-react-dw\\\\src\\\\components\\\\Formulario.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { nanoid } from 'nanoid';\nimport { firebase } from '../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Formulario = () => {\n  _s();\n\n  const [fruta, setFruta] = React.useState('');\n  const [descripcion, setDescripcion] = React.useState('');\n  const [cantidad, setCantidad] = React.useState('');\n  const [precio, setPrecio] = React.useState('');\n  const [fecha, setFecha] = React.useState('');\n  const [listaFrutas, setListaFrutas] = React.useState([]);\n  const [id, setId] = React.useState('');\n  const [modoEdicion, setModoEdicion] = React.useState(false);\n  const [error, setError] = React.useState(null);\n  React.useEffect(() => {\n    const obtenerDatos = async () => {\n      try {\n        const db = firebase.firestore();\n        const data = await db.collection('frutas').get();\n        const arrayData = data.docs.map(item => ({\n          id: item.id,\n          ...item.data()\n        })); //console.log(arrayData)\n\n        setListaFrutas(arrayData);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    obtenerDatos();\n  });\n\n  const guardarFrutas = async e => {\n    e.preventDefault();\n\n    if (!fruta.trim()) {\n      setError('Digite la Fruta');\n      return;\n    }\n\n    if (!descripcion.trim()) {\n      setError('Digite la Descripción');\n      return;\n    }\n\n    if (!precio.trim()) {\n      setError('Ingrese el precio de la fruta');\n      return;\n    }\n\n    if (!cantidad.trim()) {\n      setError('Ingrese la cantidad');\n      return;\n    }\n\n    if (!fecha.trim()) {\n      setError('Ingrese una fecha válida');\n      return;\n    }\n\n    try {\n      const db = firebase.firestore();\n      const nuevaFruta = {\n        nombreFruta: fruta,\n        nombreDescripcion: descripcion,\n        cantidad: cantidad,\n        precio: precio,\n        fecha: fecha\n      };\n      await db.collection('frutas').add(nuevaFruta);\n      setListaFrutas([...listaFrutas, {\n        id: nanoid(),\n        nombreFruta: fruta,\n        nombreDescripcion: descripcion,\n        cantidad: cantidad,\n        precio: precio,\n        fecha: fecha\n      }]);\n      e.target.reset();\n      setFruta('');\n      setDescripcion('');\n      setCantidad('');\n      setPrecio('');\n      setFecha('');\n      setError(null);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const editar = item => {\n    setFruta(item.nombreFruta);\n    setDescripcion(item.nombreDescripcion);\n    setCantidad(item.cantidad);\n    setPrecio(item.precio);\n    setFecha(item.fecha);\n    setModoEdicion(true);\n    setId(item.id);\n  };\n\n  const editarFrutas = async e => {\n    e.preventDefault();\n\n    if (!fruta.trim()) {\n      setError('Digite la Fruta');\n      return;\n    }\n\n    if (!descripcion.trim()) {\n      setError('Digite la Descripción');\n      return;\n    }\n\n    if (!cantidad.trim()) {\n      setError('Digite la Cantidad');\n      return;\n    }\n\n    if (!precio.trim()) {\n      setError('Digite el precio de la fruta');\n      return;\n    }\n\n    if (!fecha.trim()) {\n      setError('Ingrese una fecha');\n      return;\n    }\n\n    try {\n      const db = firebase.firestore();\n      await db.collection('frutas').doc(id).update({\n        nombreFruta: fruta,\n        nombreDescripcion: descripcion\n      });\n      const arrayEditado = listaFrutas.map(item => item.id === id ? {\n        id: id,\n        nombreFruta: fruta,\n        nombreDescripcion: descripcion\n      } : item);\n      setListaFrutas(arrayEditado);\n      setFruta('');\n      setDescripcion('');\n      setCantidad('');\n      setPrecio('');\n      setFecha('');\n      setId('');\n      setModoEdicion(false);\n      setError(null);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const eliminar = async id => {\n    try {\n      const db = firebase.firestore();\n      await db.collection('frutas').doc(id).delete();\n      const aux = listaFrutas.filter(item => item.id !== id);\n      setListaFrutas(aux);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const cancelar = () => {\n    setModoEdicion(false);\n    setFruta('');\n    setId('');\n    setDescripcion('');\n    setCantidad('');\n    setPrecio('');\n    setFecha('');\n    setError(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center\",\n      children: \"CRUD B\\xC1SICO\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-center\",\n          children: \"Listado de Frutas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-group\",\n          children: listaFrutas.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"lead\",\n              children: [item.nombreFruta, \"-\", item.nombreDescripcion, \"-\", item.precio, \"-\", item.cantidad, \"-\", item.fecha]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger btn-sm float-end mx-2\",\n              onClick: () => eliminar(item.id),\n              children: \"Eliminar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-warning btn-sm float-end\",\n              onClick: () => editar(item),\n              children: \"Editar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 33\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-center\",\n          children: modoEdicion ? 'Editar Frutas' : 'Agregar Frutas'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: modoEdicion ? editarFrutas : guardarFrutas,\n          children: [error ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 33\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control mb-2\",\n            type: \"text\",\n            placeholder: \"Ingrese Fruta\",\n            onChange: e => setFruta(e.target.value),\n            value: fruta\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control mb-2\",\n            placeholder: \"Ingrese Descripci\\xF3n\",\n            type: \"text\",\n            onChange: e => setDescripcion(e.target.value),\n            value: descripcion\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control mb-2\",\n            placeholder: \"Ingrese Precio\",\n            type: \"text\",\n            onChange: e => setPrecio(e.target.value),\n            value: precio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control mb-2\",\n            placeholder: \"Ingrese Cantidad\",\n            type: \"text\",\n            onChange: e => setCantidad(e.target.value),\n            value: cantidad\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control mb-2\",\n            placeholder: \"Ingrese Fecha\",\n            type: \"text\",\n            onChange: e => setFecha(e.target.value),\n            value: fecha\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 21\n          }, this), modoEdicion ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-warning btn-block\",\n              type: \"submit\",\n              children: \"Editar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-dark btn-block mx-2\",\n              onClick: () => cancelar(),\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary btn-block\",\n            type: \"submit\",\n            children: \"Agregar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Formulario, \"X/uwnJCdGkMgaYUHmU/uEq6JHxw=\");\n\n_c = Formulario;\nexport default Formulario;\n\nvar _c;\n\n$RefreshReg$(_c, \"Formulario\");","map":{"version":3,"sources":["D:/USUARIO/Desktop/crud-basico-react-dw/src/components/Formulario.jsx"],"names":["React","nanoid","firebase","Formulario","fruta","setFruta","useState","descripcion","setDescripcion","cantidad","setCantidad","precio","setPrecio","fecha","setFecha","listaFrutas","setListaFrutas","id","setId","modoEdicion","setModoEdicion","error","setError","useEffect","obtenerDatos","db","firestore","data","collection","get","arrayData","docs","map","item","console","log","guardarFrutas","e","preventDefault","trim","nuevaFruta","nombreFruta","nombreDescripcion","add","target","reset","editar","editarFrutas","doc","update","arrayEditado","eliminar","delete","aux","filter","cancelar","value"],"mappings":"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","sourcesContent":["import React  from 'react'\r\nimport {nanoid} from 'nanoid'\r\nimport {firebase} from '../firebase'\r\n\r\nconst Formulario = () => {\r\n    const [fruta, setFruta] = React.useState('')\r\n    const [descripcion, setDescripcion] = React.useState('')\r\n    const [cantidad, setCantidad] = React.useState('')\r\n    const [precio, setPrecio] = React.useState('')\r\n    const [fecha, setFecha] = React.useState('')\r\n    const [listaFrutas, setListaFrutas] = React.useState([])\r\n    const [id, setId] = React.useState('')\r\n    const [modoEdicion, setModoEdicion] = React.useState(false)\r\n    const [error, setError] = React.useState(null)\r\n\r\n    React.useEffect(()=>{\r\n         const obtenerDatos= async () =>{\r\n             try{\r\n                 const db = firebase.firestore()\r\n                 const data = await db.collection('frutas').get()\r\n                 const arrayData= data.docs.map(item => (\r\n                     {\r\n                         id:item.id, ...item.data()\r\n                     }\r\n                 ))\r\n                 //console.log(arrayData)\r\n\r\n                 setListaFrutas(arrayData)\r\n\r\n             }catch(error){\r\n                 console.log(error)\r\n             }\r\n         }\r\n\r\n         obtenerDatos();\r\n    })\r\n\r\n\r\n    const guardarFrutas = async (e) =>{\r\n        e.preventDefault()\r\n\r\n        if(!fruta.trim()){\r\n           setError('Digite la Fruta')\r\n            return\r\n        }\r\n\r\n        if(!descripcion.trim()){\r\n            setError('Digite la Descripción')\r\n            return\r\n        }\r\n\r\n        if(!precio.trim()){\r\n            setError('Ingrese el precio de la fruta')\r\n            return\r\n        }\r\n\r\n        if(!cantidad.trim()){\r\n            setError('Ingrese la cantidad')\r\n            return\r\n        }\r\n\r\n        if(!fecha.trim()){\r\n            setError('Ingrese una fecha válida')\r\n            return\r\n        }\r\n\r\n        try{\r\n            const db = firebase.firestore()\r\n            const nuevaFruta = {\r\n                nombreFruta: fruta,\r\n                nombreDescripcion: descripcion,\r\n                cantidad: cantidad,\r\n                precio: precio,\r\n                fecha: fecha\r\n            }\r\n\r\n            await db.collection('frutas').add(nuevaFruta)\r\n\r\n            setListaFrutas([\r\n                ...listaFrutas,\r\n                {id:nanoid(), nombreFruta:fruta, nombreDescripcion:descripcion,cantidad: cantidad, precio: precio, fecha: fecha}\r\n            ])\r\n\r\n            e.target.reset()\r\n            setFruta('')\r\n            setDescripcion('')\r\n            setCantidad('')\r\n            setPrecio('')\r\n            setFecha('')\r\n            setError(null)\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n\r\n    const editar = item =>{\r\n        setFruta(item.nombreFruta)\r\n        setDescripcion(item.nombreDescripcion)\r\n        setCantidad(item.cantidad)\r\n        setPrecio(item.precio)\r\n        setFecha(item.fecha)\r\n        setModoEdicion(true)\r\n        setId(item.id)\r\n    }\r\n\r\n    const editarFrutas = async e =>{\r\n        e.preventDefault()\r\n\r\n        if(!fruta.trim()){\r\n            setError('Digite la Fruta')\r\n             return\r\n         }\r\n \r\n         if(!descripcion.trim()){\r\n             setError('Digite la Descripción')\r\n             return\r\n         }\r\n\r\n         if(!cantidad.trim()){\r\n            setError('Digite la Cantidad')\r\n            return\r\n        }\r\n\r\n        if(!precio.trim()){\r\n            setError('Digite el precio de la fruta')\r\n            return\r\n        }\r\n\r\n        if(!fecha.trim()){\r\n            setError('Ingrese una fecha')\r\n            return\r\n        }\r\n\r\n         try{\r\n             const db = firebase.firestore()\r\n             await db.collection('frutas').doc(id).update({\r\n                 nombreFruta:fruta,\r\n                 nombreDescripcion:descripcion\r\n             })\r\n        \r\n             const arrayEditado = listaFrutas.map(\r\n                item => item.id ===id ? {id:id, nombreFruta:fruta, nombreDescripcion: descripcion}: item\r\n            )\r\n    \r\n            setListaFrutas(arrayEditado)\r\n            setFruta('')\r\n            setDescripcion('')\r\n            setCantidad('')\r\n            setPrecio('')\r\n            setFecha('')\r\n            setId('')\r\n            setModoEdicion(false)\r\n            setError(null)\r\n\r\n         }catch(error){\r\n             console.log(error)\r\n         }\r\n\r\n        \r\n    } \r\n\r\n    const eliminar = async id =>{\r\n        try{\r\n            const db = firebase.firestore()\r\n            await db.collection('frutas').doc(id).delete()\r\n            const aux = listaFrutas.filter(item => item.id !== id)\r\n            setListaFrutas(aux)\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    const cancelar = () =>{\r\n        setModoEdicion(false)\r\n        setFruta('')\r\n        setId('')\r\n        setDescripcion('')\r\n        setCantidad('')\r\n        setPrecio('')\r\n        setFecha('')\r\n        setError(null)\r\n    }\r\n\r\n  return (\r\n    <div className='container mt-5'>\r\n        <h1 className='text-center'>CRUD BÁSICO</h1>\r\n        <hr/>\r\n        <div className='row'>\r\n            <div className='col-8'>\r\n                <h4 className='text-center'>Listado de Frutas</h4>\r\n                <ul className='list-group'>\r\n                    {\r\n                        listaFrutas.map(item=>(\r\n                            <li className='list-group-item' key={item.id}>\r\n                                <span className='lead'>{item.nombreFruta}-{item.nombreDescripcion}-{item.precio}-{item.cantidad}-{item.fecha}</span>\r\n                                <button className='btn btn-danger btn-sm float-end mx-2' onClick={()=> eliminar(item.id)}>\r\n                                Eliminar\r\n                                </button>\r\n                                <button className='btn btn-warning btn-sm float-end'onClick={()=>editar(item)}>\r\n                                Editar\r\n                                </button>\r\n                            </li>    \r\n                        ))\r\n                    }\r\n                </ul>\r\n            </div>\r\n            <div className='col-4'>\r\n                <h4 className='text-center'>\r\n                    {\r\n                        modoEdicion ? 'Editar Frutas' : 'Agregar Frutas'\r\n                    }\r\n                    </h4>\r\n                <form onSubmit ={modoEdicion ? editarFrutas: guardarFrutas}>\r\n                    {\r\n                        error ? <span className='text-danger'>{error}</span> : null\r\n                    }\r\n                    <input \r\n                    className='form-control mb-2'\r\n                    type = \"text\"\r\n                    placeholder='Ingrese Fruta'\r\n                    onChange={(e)=> setFruta(e.target.value)}\r\n                    value = {fruta}\r\n                    />\r\n                    <input \r\n                    className='form-control mb-2'\r\n                    placeholder='Ingrese Descripción'\r\n                    type=\"text\"\r\n                    onChange={(e)=> setDescripcion(e.target.value)}\r\n                    value={descripcion}\r\n                    />\r\n                    <input \r\n                    className='form-control mb-2'\r\n                    placeholder='Ingrese Precio'\r\n                    type=\"text\"\r\n                    onChange={(e)=> setPrecio(e.target.value)}\r\n                    value={precio}\r\n                    />\r\n                    <input \r\n                    className='form-control mb-2'\r\n                    placeholder='Ingrese Cantidad'\r\n                    type=\"text\"\r\n                    onChange={(e)=> setCantidad(e.target.value)}\r\n                    value={cantidad}\r\n                    />\r\n                    <input \r\n                    className='form-control mb-2'\r\n                    placeholder='Ingrese Fecha'\r\n                    type=\"text\"\r\n                    onChange={(e)=> setFecha(e.target.value)}\r\n                    value={fecha}\r\n                    />\r\n\r\n                    {\r\n                        modoEdicion ?\r\n                        (\r\n                            <>\r\n                                <button \r\n                                className='btn btn-warning btn-block'\r\n                                type='submit'\r\n                                >Editar</button>\r\n                                <button \r\n                                className='btn btn-dark btn-block mx-2'\r\n                                onClick={() => cancelar()}\r\n                                >Cancelar</button>\r\n                            </>\r\n                        )\r\n                        :\r\n\r\n                            <button \r\n                            className='btn btn-primary btn-block'\r\n                            type='submit'\r\n                            >Agregar</button>\r\n\r\n                        }\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Formulario"]},"metadata":{},"sourceType":"module"}